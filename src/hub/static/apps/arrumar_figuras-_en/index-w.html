<!DOCTYPE html>
<html>
  <head>
    <script src="../atractor-apps-all/scripts/konva.min.js"></script>
    <meta charset="utf-8" />
    <title>Arrumar brinquedos</title>
    <style>
	html {
  touch-action: pan-down;
}

      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #f0f0f0;
      }
	  
	  .image-upload>input {
  display: none;
}

.range2{transform: rotate(90deg);}


input[type=range] {
  height: 41px;
  -webkit-appearance: none;
  width: 14%;
  margin: 0% -8%;
  background: transparent;
}
input[type=range]:focus {
  outline: none;
}
input[type=range]::-webkit-slider-runnable-track {
  width: 100%;
  height: 10px;
  cursor: pointer;
  animate: 0.2s;
  box-shadow: 1px 1px 1px #000000;
  background: #3071A9;
  border-radius: 5px;
  border: 1px solid #000000;
}
input[type=range]::-webkit-slider-thumb {
  box-shadow: 1px 1px 1px #000000;
  border: 1px solid #000000;
  height: 33px;
  width: 22px;
  border-radius: 7px;
  background: #FFFFFF;
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: -12.5px;
}
input[type=range]:focus::-webkit-slider-runnable-track {
  background: #3071A9;
}
input[type=range]::-moz-range-track {
  width: 100%;
  height: 10px;
  cursor: pointer;
  animate: 0.2s;
  box-shadow: 1px 1px 1px #000000;
  background: #3071A9;
  border-radius: 5px;
  border: 1px solid #000000;
}
input[type=range]::-moz-range-thumb {
  box-shadow: 1px 1px 1px #000000;
  border: 1px solid #000000;
  height: 33px;
  width: 22px;
  border-radius: 7px;
  background: #FFFFFF;
  cursor: pointer;
}
input[type=range]::-ms-track {
  width: 100%;
  height: 10px;
  cursor: pointer;
  animate: 0.2s;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
input[type=range]::-ms-fill-lower {
  background: #3071A9;
  border: 1px solid #000000;
  border-radius: 10px;
  box-shadow: 1px 1px 1px #000000;
}
input[type=range]::-ms-fill-upper {
  background: #3071A9;
  border: 1px solid #000000;
  border-radius: 10px;
  box-shadow: 1px 1px 1px #000000;
}
input[type=range]::-ms-thumb {
  margin-top: 1px;
  box-shadow: 1px 1px 1px #000000;
  border: 1px solid #000000;
  height: 33px;
  width: 22px;
  border-radius: 7px;
  background: #FFFFFF;
  cursor: pointer;
}
input[type=range]:focus::-ms-fill-lower {
  background: #3071A9;
}
input[type=range]:focus::-ms-fill-upper {
  background: #3071A9;
}


button:hover {
    cursor: pointer;
}

img:hover {
    cursor: pointer;
}
    </style>
	<link rel="stylesheet" type="text/css" href="../atractor-apps-all/csss/style1.css">

  </head>
    <body onload="fitStageIntoParentContainer();">


		<div id="container0" style="display:none">
		
		
<input type="range" name="RangeVal" value="RangeVal" id="range" min="0" max="3.14" step=".01" 
style=" position: absolute;
  top: 13%;
  right: 55%;" />
  
  <input type="range" class="range2" name="RangeVal" value="RangeVal" id="range2" min="0" max="3.14" step=".01" style=" position: absolute;
  top: 45%;
  right: 82%;" />


  <img src="../atractor-apps-all/icons/happy.png" id="certo1" width="7%" style="  position: absolute;
  top: 5%;
  right: 10%;display:none"></img>
 
<img src="../atractor-apps-all/icons/back.png" width=6% onclick="home();" style=" position: absolute;
  top:3%;
  right: 92%;"></img>

  
		</div>
	
  
  <audio src="../atractor-apps-all/sons/aplausos.mp3" id="aplausosAudio" type="audio/mpeg"></audio>
     
    <div id="container"></div>
	  <div id="successMessage" style="display:none">
    <img src="../atractor-apps-all/icons/happy.png" id="certo" width=8% style=" position: absolute;
  top: 30%;
  right: 46%;"></img>
  <img src="../atractor-apps-all/gifs/Festejos.gif" width=40% style=" position: absolute;
  top: 10%;
  right: 30%; z-index: -1;"> </img>
	   
	<img src="../atractor-apps-all/icons/refresh.png" onclick="location.reload();" width=10% style=" position: absolute;
  top: 60%;
  right: 45%;"></img>
    <br/><br/><br/>
	
	
  </div>
  
  <script type="text/javascript" src="../atractor-apps-all/scripts/jquery.min.js"></script>
<script type="text/javascript" src="../atractor-apps-all/scripts/jquery-ui.min.js"></script>
    
	
		<script src="../atractor-apps-all/scripts/three.js"></script>


	
	<script>
	var ini=true;
	
	window.addEventListener('resize', function(){
	
	width = window.innerWidth; height = window.innerHeight;
	
		if(ini){fitStageIntoParentContainer()};
	 if(!ini) {WIDTH = .99*window.innerWidth;HEIGHT = .99*window.innerHeight;
	 ASPECT = WIDTH / HEIGHT;container.removeChild( renderer.domElement );init(); animate();
	document.getElementById("certo1").style.display="none"
	 
	 }; 
	 } );
	
	// scene size
			var WIDTH = .99*window.innerWidth;
			var HEIGHT = .99*window.innerHeight;
			// camera
			var VIEW_ANGLE = 12;
			var ASPECT = WIDTH / HEIGHT;
			var NEAR = 10;
			var FAR = 10000;
			var camera, scene;
			
		
		range2.oninput = function() {
    var tt = this.value;
	RangeVal=parseFloat(this.value);
		
		rotate(-RangeVal)
		eixo()
		document.getElementById("range").value=0;
		if(RangeVal>3.13&&hori) {		document.getElementById("certo1").style.display="inline-block"}
		else
		{		document.getElementById("certo1").style.display="none"}
		
}
		
		range2.onchange = function() {
    var tt = this.value;
	RangeVal=parseFloat(this.value);
		
		rotate(-RangeVal)
		eixo()
		document.getElementById("range").value=0;
		if(RangeVal>3.13&&hori) {		document.getElementById("certo1").style.display="inline-block"}
		else
		{		document.getElementById("certo1").style.display="none"}
}


	range.oninput = function() {
    var tt = this.value;
	RangeVal=parseFloat(this.value);
	
		rotatev(-RangeVal)
		eixov()
		document.getElementById("range2").value=0
		if(RangeVal>3.13&&vert) {		document.getElementById("certo1").style.display="inline-block"}
		else
		{		document.getElementById("certo1").style.display="none"}
}
		
		range.onchange = function() {
    var tt = this.value;
	RangeVal=parseFloat(this.value);

		rotatev(-RangeVal)
		eixov()
		document.getElementById("range2").value=0;
		if(RangeVal>3.13&&vert) {		document.getElementById("certo1").style.display="inline-block"}
		else
		{		document.getElementById("certo1").style.display="none"}
}		

  
  
		
var dragging = false;
		var espelho=false;
		var verticalMirror;var planeBack, geometry, planeGeo3,  planeBottom, planeBottomv, planeBottom2v;
		var planeBottom2
	
			var RangeVal=0;

		
function rotate(ang) {

				scene.remove(planeBottom2);
				scene.remove(planeBottom);
		scene.remove(planeBottom2v);
				scene.remove(planeBottomv);
	
				planeBottom = new THREE.Mesh( planeGeo2, materialpb);
				planeBottom.side = THREE.DoubleSide
				planeBottom.material.side = THREE.DoubleSide;
				planeBottom.position.y=-50;
				planeBottom2 = new THREE.Mesh( planeGeo2, materialpb2 );
				planeBottom2.side = THREE.DoubleSide
				planeBottom2.material.side = THREE.DoubleSide;
				planeBottom2.translateY(-25);
				planeBottom2.rotateX( -ang );
				planeBottom2.translateY(25);
				scene.add( planeBottom2 );
				scene.add( planeBottom );
				}

				var linev, line;
		
			
function eixo()
{
var geometry = new THREE.Geometry();
geometry.vertices.push(new THREE.Vector3( -50/a, -25, 0.1) );
geometry.vertices.push(new THREE.Vector3( 50/a, -25, 0.1) );
var material = new THREE.LineBasicMaterial( { color: 0x000000 } );
scene.remove(line);
scene.remove(linev);
line = new THREE.Line( geometry, material );
scene.add(line)}


function rotatev(ang) {

				scene.remove(planeBottom2);
				scene.remove(planeBottom);
				scene.remove(planeBottom2v);
				scene.remove(planeBottomv);
			
				planeBottomv = new THREE.Mesh( planeGeo2v, materialpbv );
				planeBottomv.side = THREE.DoubleSide
				planeBottomv.material.side = THREE.DoubleSide;
				planeBottomv.position.x=-25/a;
				planeBottomv.position.y=-25;
				planeBottomv.translateX(25/a);
				planeBottomv.rotateY( -ang );
							planeBottomv.translateX(-25/a);
				
				planeBottom2v = new THREE.Mesh( planeGeo2v, materialpb2v );
				planeBottom2v.side = THREE.DoubleSide
				planeBottom2v.material.side = THREE.DoubleSide;
				planeBottom2v.position.x=25/a;
						planeBottom2v.position.y=-25;
				scene.add( planeBottom2v );
				scene.add( planeBottomv );
				}
				
				
function eixov()
{
var geometryv = new THREE.Geometry();
geometryv.vertices.push(new THREE.Vector3( -25/a, -50, 0.1) );
geometryv.vertices.push(new THREE.Vector3( -25/a, 50, 0.1) );
var material = new THREE.LineBasicMaterial( { color: 0x000000 } );
scene.remove(linev);
scene.remove(line);
linev = new THREE.Line( geometryv, material );
linev.position.x=25/a;
linev.position.y=-25;
scene.add(linev)}


function home(){ini=true;fitStageIntoParentContainer();
	document.getElementById("container0").style.display="none"
		document.getElementById("container").style.display="inline"
		container.removeChild( renderer.domElement );
		document.getElementById("certo1").style.display="none"
}


var container=document.getElementById( 'container0' );
var renderer;			


function init() {
			ini=false;
				
			document.getElementById("range").value=0;
			document.getElementById("range2").value=0;
			
			
				// renderer
				renderer = new THREE.WebGLRenderer( { antialias: true } );
				//renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( WIDTH, HEIGHT );
				renderer.setClearColor(0xd2d1b8,1);
				container.appendChild( renderer.domElement );
				// scene
				var loader = new THREE.TextureLoader();
loader.load('../atractor-apps-all/imgs/symm-bg1-05.jpg' , 
function(texture)
            {
             scene.background = texture;  
            });
				
						
				scene = new THREE.Scene();
				// camera
				camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT, NEAR, FAR );
				camera.position.set( 0, 0,1000 );
				camera.lookAt(new THREE.Vector3(5,-25,0));
				scene.add( camera );
			
				window.ImageBitmap = window.ImageBitmap || function () { return null }
				
			
				// walls
		
	
	
	
				planeBottom = new THREE.Mesh( planeGeo2, materialpb );
				planeBottom.side = THREE.DoubleSide
				planeBottom.material.side = THREE.DoubleSide;
				planeBottom.position.y=-50;
				scene.add( planeBottom );
				
				planeBottom2 = new THREE.Mesh( planeGeo2, materialpb2 );
				planeBottom2.side = THREE.DoubleSide
				planeBottom2.material.side = THREE.DoubleSide;
				planeBottom2.translateY(-50);
				planeBottom2.rotateY( 0 );
				planeBottom2.translateY(50);
				scene.add( planeBottom2 );
				
	
				
			planeBottomv = new THREE.Mesh( planeGeo2v, materialpbv );
				planeBottomv.side = THREE.DoubleSide
				planeBottomv.material.side = THREE.DoubleSide;
				planeBottomv.position.x=-50/a;
				
				
				planeBottom2v = new THREE.Mesh( planeGeo2v, materialpb2v );
				planeBottom2v.side = THREE.DoubleSide
				planeBottom2v.material.side = THREE.DoubleSide;
				planeBottom2v.translateX(-25/a);
				planeBottom2v.rotateY( 0 );
				planeBottom2v.translateX(25/a);
				
				
				
				
				// lights
				var light = new THREE.AmbientLight( 0xffffff ); // soft white light
scene.add( light );

				renderer.render( scene, camera );
				
		}
			
			
	
			
			function animate() {
				requestAnimationFrame(animate);
				renderer.render( scene, camera );
			}
			
			
	var materialpb,materialpb2, a, planeGeo2,planeGeo2v, materialpbv, materialpb2v;
	
	var hori=false;
	function Link(ii) 
	{	if(ii==0||ii==2||ii==10||ii==13){hori=true} else {hori=false; if(imgsim[ii]=='s') {vert=true} else{vert=false}}; 
	WIDTH = .99*window.innerWidth;HEIGHT = .99*window.innerHeight;
	 ASPECT = WIDTH / HEIGHT;
	 
	 var imgname = '../atractor-apps-all/imgs/'+imagenames[ii];
	

    var img = new Image();
    img.src = imgname+"?_="+(new Date().getTime());
    img.onload = function() {   
           a=this.height/this.width;	
		   
		   planeGeo2 = new THREE.PlaneBufferGeometry( 100/a, 100/2 )
	planeGeo2v = new THREE.PlaneBufferGeometry( 0.5*100/a, 100 );	

	var loader = new THREE.TextureLoader();

// load a resource
loader.load(
    // resource URL
    imgname,
    // Function when resource is loaded
    function ( texture ) {
	
	var texture1=texture.clone();
	texture1.needsUpdate = true;
	
        // do something with the texture
texture1.wrapS = THREE.MirroredRepeatWrapping; 
texture1.wrapT = THREE.RepeatWrapping; 
texture1.repeat.set( 1, .5 );       
	   materialpb = new THREE.MeshPhongMaterial( { map: texture1, side:THREE.DoubleSide,  transparent: true, opacity: 0.7 } ) 

	var texture2=texture.clone(); 
texture2.needsUpdate=true; 
	
	   texture2.wrapS = THREE.MirroredRepeatWrapping; 
	texture2.wrapT = THREE.RepeatWrapping; 
	texture2.offset.y=.5;
	texture2.repeat.set( 1, .5 );
	
materialpb2=new THREE.MeshPhongMaterial( {  map: texture2, side:THREE.DoubleSide ,  transparent: true, opacity: 0.7} )
	
	var texture3=texture.clone(); 
texture3.needsUpdate=true; 

	texture3.wrapS = THREE.MirroredRepeatWrapping; 
texture3.wrapT = THREE.RepeatWrapping; 
texture3.repeat.set( 0.5,1 );
	
materialpbv=new THREE.MeshPhongMaterial( {  map: texture3, side:THREE.DoubleSide,  transparent: true, opacity: 0.7 } );
	
	  var texture4=texture.clone(); 
texture4.needsUpdate=true; 

texture4.wrapS = THREE.MirroredRepeatWrapping; 
texture4.wrapT = THREE.RepeatWrapping; 
texture4.offset.x=.5;
texture4.repeat.set( 0.5,1 );
		
 materialpb2v=new THREE.MeshPhongMaterial( {  map: texture4, side:THREE.DoubleSide ,  transparent: true, opacity: 0.7} )
		
			  
	   
	   init(); animate();
    }
);

	
	
		  return
		
        
}


	document.getElementById("container").style.display="none"
	document.getElementById("container0").style.display="inline"
	}
	
	
  var icon=[]; 
  
      var width = window.innerWidth;
      var height = window.innerHeight;

      function loadImages(sources, callback) {
        var assetDir = '../atractor-apps-all/imgs/';
        var images = {};
        var loadedImages = 0;
        var numImages = 0;
        for (var src in sources) {
          numImages++;
        }
        for (var src in sources) {
          images[src] = new Image();
          images[src].onload = function() {
            if (++loadedImages >= numImages) {
              callback(images);
            }
          };
          images[src].src = assetDir + sources[src];
        }
      }
      function isNearOutline(animal, outline) {
        var a = animal;
        var o = outline;
        var ax = a.x();
        var ay = a.y();
var delta=120;
        if (ax > o.x - delta && ax < o.x + delta && ay > o.y - delta && ay < o.y + delta) {
          return true;
        } else {
          return false;
        }
      }
 
var stage;
      function initStage(images) {
	  
	  $('#successMessage').hide();
  $('#successMessage').css( {
    left: '580px',
    top: '250px',
    width: 0,
    height: 0
  } );
  
  
        stage = new Konva.Stage({
          container: 'container',
          width: width,
          height: height
        });
        var background = new Konva.Layer();
        var animalLayer = new Konva.Layer();
       
var textLayer=	new Konva.Layer();   var animalShapes = [];
        var score = 0;


var textscore = new Konva.Text({
        text: String(score)+' of '+String(ct),
        x: 0.25*window.innerWidth+ window.innerWidth/5,
        y: 0.35*window.innerHeight + window.innerWidth/5,
		
	
		  
		  
        fontSize: 30
      });

      textLayer.add(textscore);
      textLayer.draw();

	  
        // image positions
        var animals = {
          im1: {
            x: 0.05*width,
            y: 0.05*height
          },
          im2: {
            x: 0.25*width,
            y:  0.05*height
          },
         im3: {
            x: 0.45*width,
            y:  0.05*height
          },
         im4: {
            x: 0.65*width,
            y:  0.05*height
          },
		  
		   im5: {
            x: 0.85*width,
            y:  0.05*height
          },
		  
		   im6: {
            x: 0.05*width,
            y: 0.3*height
          },
          im7: {
            x: 0.25*width,
            y:  0.3*height
          },
         im8: {
            x: 0.65*width,
            y:  0.3*height
          },
		   im9: {
            x: 0.85*width,
            y:  0.3*height
          },
		  
		   im10: {
            x: 0.05*width,
            y: 0.55*height
          },
          im11: {
            x: 0.25*width,
            y:  0.55*height
          },
         im12: {
            x: 0.65*width,
            y:  0.55*height
          },
		   im13: {
            x: 0.85*width,
            y:  0.55*height
          },
		  
		   im14: {
            x: 0.05*width,
            y: 0.8*height
          },
          im15: {
            x: 0.25*width,
            y:  0.8*height
          },
         im16: {
            x: 0.45*width,
            y:  0.8*height
          },
         im17: {
            x: 0.65*width,
            y:  0.8*height
          },
		  
		   im18: {
            x: 0.85*width,
            y:  0.8*height
          } 
		  
        };

      

        // create draggable animals
        for (var key in animals) {
          // anonymous function to induce scope
          (function() {
            var privKey = key;
            var anim = animals[key];

            var animal = new Konva.Image({
              image: images[key],
              x: anim.x,
              y: anim.y,
			   width: window.innerWidth/11,
			  height: (window.innerWidth/11)/images[key].width*images[key].height,
             draggable: true
            });

            animal.on('dragstart', function() {
              this.moveToTop();
              animalLayer.draw();
            });
            /*
             * check if animal is in the right spot and
             * snap into place if it is
             */
            animal.on('dragend', function() {
              var outline = outlines[privKey + '_black'];
              if (!animal.inRightPlace && isNearOutline(animal, outline)) {
                animal.position({
                  x: outline.x,
                  y: outline.y
                });
				 animalLayer.draw();
                animal.inRightPlace = true;
			
				icon[privKey.substring(2)-1].opacity(0)
				layer.draw();
                				
			textscore.text(String(score+1)+' of '+String(ct))
   

	  textLayer.add(textscore);
      textLayer.draw();

                if (++score >= ct) {
				
	  
                  var text = 'You win! Enjoy your booty!';
				  aplausosAudio.play();
                     $('#successMessage').show();
    $('#successMessage').animate( {
      left: '1%',
      top: '1%',
      width: '98%',
      height: '58%',
      opacity: 0.8
    } );
  }
                

                // disable drag and drop
                setTimeout(function() {
                  animal.draggable(false);
                }, 50);
              } else
			  
			  { if (!animal.inRightPlace ) {
                animal.position({
                  x: anim.x,
                  y: anim.y
                });
                animalLayer.draw();
                animal.inRightPlace = false;
				
				//alert(privKey.substring(2))
				
				// icon[privKey.substring(2)-1].size({width:window.innerWidth/30, height:window.innerWidth/30})
				// icon[privKey.substring(2)-1].opacity(1)
				layer.draw();
				}
				
			
			  
			  
            }}
			);
            // make animal glow on mouseover
            animal.on('mouseover', function() {
              document.body.style.cursor = 'pointer';
            });
            // return animal on mouseout
            animal.on('mouseout', function() {
              animal.image(images[privKey]);
              animalLayer.draw();
              document.body.style.cursor = 'default';
            });

            animal.on('dragmove', function() {
              document.body.style.cursor = 'pointer';
            });

            animalLayer.add(animal);
            animalShapes.push(animal);
          })();
        }

        // create animal outlines
        for (var key in outlines) {
          // anonymous function to induce scope
          (function() {
            var imageObj = images[key];
            var out = outlines[key];

            var outline = new Konva.Image({
              image: imageObj,
              x: out.x,
              y: out.y,
          width: window.innerWidth/5.5*1427/1103,
          height: window.innerWidth/5.5,
			  
            });

            animalLayer.add(outline);
          })();
        }
		
		
	var imageObj2 = new Image(); 
      imageObj2.onload = function() { 
	  back=new Konva.Image({
           x:  0*width,
           y:0*height,
          image: imageObj2,
          width: window.innerWidth,
          height: window.innerHeight,
		  opacity:.35
        });
		

        // add the shape to the layer
        background.add(back);
		  
     background.batchDraw();
	  
	  
	}
	
	
	imageObj2.src = '../atractor-apps-all/imgs/symm-bg1-01.jpg';
        stage.add(background);
        stage.add(animalLayer);
	  stage.add(textLayer);
    	

   var layer = new Konva.Layer();
      stage.add(layer);

      // main API:
	
	       var imageObj = new Image(); 
      imageObj.onload = function() { 
	  
	  
	  for(i=0;i<5;i++)
	  {
        icon[i] = new Konva.Image({
           
		  x: (0.15+0.2*i)*width,
          y:0.05*height,
          image: imageObj,
          width: window.innerWidth/40,
          height: window.innerWidth/40,
		  opacity:0.75
        });
		
	
			

        // add the shape to the layer
        layer.add(icon[i]);
		  
     layer.batchDraw();
		
	
		
		}
		
	 for(i=5;i<7;i++)
	  {
      icon[i] = new Konva.Image({
          x:  (0.15+0.2*(i-5))*width,
           y:0.3*height,
          image: imageObj,
          width: window.innerWidth/40,
          height: window.innerWidth/40,
		  opacity:0.75
        });
		
	
			

        // add the shape to the layer
        layer.add(icon[i]);
		  
     layer.batchDraw();
		
	}
		
		for(i=7;i<9;i++)
	  {
      icon[i] = new Konva.Image({
           x:  (0.15+0.2*(i-4))*width,
           y:0.3*height,
          image: imageObj,
          width: window.innerWidth/40,
          height: window.innerWidth/40,
		  opacity:0.75
        });
		
	
			

        // add the shape to the layer
        layer.add(icon[i]);
		  
     layer.batchDraw();
		
	}
		
		
		
			 for(i=9;i<11;i++)
	  {
      icon[i] = new Konva.Image({
         x:  (0.15+0.2*(i-9))*width,
           y:0.55*height,
          image: imageObj,
          width: window.innerWidth/40,
          height: window.innerWidth/40,
		  opacity:0.75
        });
		
	
			

        // add the shape to the layer
        layer.add(icon[i]);
		  
     layer.batchDraw();
		
	}
		
	for(i=11;i<13;i++)
	  {
      icon[i] = new Konva.Image({
          x: (0.15+0.2*(i-8))*width,
          y:0.55*height,
          image: imageObj,
          width: window.innerWidth/40,
          height: window.innerWidth/40,
		  opacity:0.75
        });
		
	
			

        // add the shape to the layer
        layer.add(icon[i]);
		  
     layer.batchDraw();
		
	}	
		
		  for(i=13;i<18;i++)
	  {
        icon[i] = new Konva.Image({
          x: (0.15+0.2*(i-13))*width,
          y:0.8*height,
          image: imageObj,
          width: window.innerWidth/40,
          height: window.innerWidth/40,
		  opacity:0.75
        });
		
	
			

        // add the shape to the layer
        layer.add(icon[i]);
		  
     layer.batchDraw();
		
	
		
		}
		
			for(i=0;i<18;i++)
	
		 {icon[i].on('mouseover', function() {
              document.body.style.cursor = 'pointer';
            })};
		
		
		 icon[0].on('mousedown touchstart', function() {
          Link(numbers[0])
        });
		
		 icon[1].on('mousedown touchstart', function() {
          Link(numbers[1])
        });
		
		 icon[2].on('mousedown touchstart', function() {
          Link(numbers[2])
        });
		
		 icon[3].on('mousedown touchstart', function() {
          Link(numbers[3])
        });
		
			 icon[4].on('mousedown touchstart', function() {
          Link(numbers[4])
        });
		
		 icon[5].on('mousedown touchstart', function() {
          Link(numbers[5])
        });
		
		 icon[6].on('mousedown touchstart', function() {
          Link(numbers[6])
        });
		
		 icon[7].on('mousedown touchstart', function() {
          Link(numbers[7])
        });
		
		 icon[8].on('mousedown touchstart', function() {
          Link(numbers[8])
        });
		
			 icon[9].on('mousedown touchstart', function() {
          Link(numbers[9])
        });
		
		
		 icon[10].on('mousedown touchstart', function() {
          Link(numbers[10])
        });
		
		 icon[11].on('mousedown touchstart', function() {
          Link(numbers[11])
        });
		
		 icon[12].on('mousedown touchstart', function() {
          Link(numbers[12])
        });
		
		 icon[13].on('mousedown touchstart', function() {
          Link(numbers[13])
        });
		
			 icon[14].on('mousedown touchstart', function() {
          Link(numbers[14])
        });
		 icon[15].on('mousedown touchstart', function() {
          Link(numbers[15])
        });
		
		 icon[16].on('mousedown touchstart', function() {
          Link(numbers[16])
        });
		
		 icon[17].on('mousedown touchstart', function() {
          Link(numbers[17])
        });
		
		
	
		
		
		
      };
      imageObj.src = '../atractor-apps-all/icons/question.png';
	  


		
		
      }

imagenames=['s14.png','s1.png',
's12.png',
        'n2.png',
        'n3.png',
         's4.png',
		's5.png',
		'n1.png',
		'n4.png',
		's2.png',
		's3.png',
		'n5.png',
		'n6.png',
		's13.png',
		
		
		's6.png',
		'n7.png',
		
		's7.png',
		'n8.png',
		'n9.png',
		's8.png',
		'n10.png',
		's9.png',
		's10.png',
		's11.png',
		'n11.png',
		'n12.png',
		'n13.png',
		'n14.png']
		
		imgsim=['s','s','s','n','n','s','s','n','n','s','s','n','n','s','s','n','s','n','n','s','n','s','s','s','n','n','n','n']
		
 var numbers = [ 18,6, 1, 3, 17, 8, 9, 16, 19,20,11,21,22,23,24,4,5,10];
 // numbers.sort( function() { return Math.random() - .5 } );
 // numbers=numbers.slice(0, 18);

  
  
      var sources = {

        im1: imagenames[numbers[0]],
        im2: imagenames[numbers[1]],
        im3: imagenames[numbers[2]],
        im4: imagenames[numbers[3]],
		im5: imagenames[numbers[4]],
		im6: imagenames[numbers[5]],
		im7: imagenames[numbers[6]],
		im8: imagenames[numbers[7]],
		im9: imagenames[numbers[8]],
		im10: imagenames[numbers[9]],
		im11: imagenames[numbers[10]],
		im12: imagenames[numbers[11]],
		im13: imagenames[numbers[12]],
		im14: imagenames[numbers[13]],
		im15: imagenames[numbers[14]],
		im16: imagenames[numbers[15]],
		im17: imagenames[numbers[16]],
		im18: imagenames[numbers[17]],
		
        black: 'arca.png',
		icon8: 'puzzled.png'
      };
	  var posxx=[];
	  var ct=0;
	   for(var i=0;i<18;i++) 
	   {
	  if(imgsim[numbers[i]]=='s')  {ct++; posxx[i]=0.45* window.innerWidth } else {posxx[i]=5*width}
	  };
	  
	
	    var outlines = {
		
		black: {
            x: 0.38* window.innerWidth,
          y: 0.35*window.innerHeight
			
          },
        
			
			
		im1_black: {x: posxx[0], y: 0.35*window.innerHeight} ,
         im2_black: {x: posxx[1], y: 0.35*window.innerHeight} ,
im3_black: {x: posxx[2], y: 0.35*window.innerHeight} ,
im4_black: {x: posxx[3], y: 0.35*window.innerHeight} ,
im5_black: {x: posxx[4], y: 0.35*window.innerHeight} ,
im6_black: {x: posxx[5], y: 0.35*window.innerHeight},
im7_black: {x: posxx[6], y: 0.35*window.innerHeight},
im8_black: {x: posxx[7], y: 0.35*window.innerHeight}, 		 
im9_black: {x: posxx[8], y: 0.35*window.innerHeight},
im10_black: {x: posxx[9], y: 0.35*window.innerHeight} 	,
im11_black: {x: posxx[10], y: 0.35*window.innerHeight} 	,
im12_black: {x: posxx[11], y: 0.35*window.innerHeight} 	,
im13_black: {x: posxx[12], y: 0.35*window.innerHeight},
im14_black: {x: posxx[13], y: 0.35*window.innerHeight} 	,
im15_black: {x: posxx[14], y: 0.35*window.innerHeight} 	,
im16_black: {x: posxx[15], y: 0.35*window.innerHeight} 	,
im17_black: {x: posxx[16], y: 0.35*window.innerHeight} 	,
im18_black: {x: posxx[17], y: 0.35*window.innerHeight} 	 	 	 			 

        };
	 
	 
	 
	 
      loadImages(sources, initStage);
	  
	  var stageWidth = window.innerWidth;
      var stageHeight = window.innerHeight;
	  
	 function fitStageIntoParentContainer() {
       
        // to do this we need to scale the stage
        var scale = Math.min(window.innerWidth / stageWidth,window.innerHeight / stageHeight);

        stage.width(stageWidth * scale);
        stage.height(stageHeight * scale);
        stage.scale({ x: scale, y: scale });
        stage.draw();
      }

     

   

    </script>
  </body>
</html>